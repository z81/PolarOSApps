(function(){var a,d,h,b,g,f,c={}.hasOwnProperty,e=function(l,j){for(var i in j){if(c.call(j,i)){l[i]=j[i]}}function k(){this.constructor=l}k.prototype=j.prototype;l.prototype=new k();l.__super__=j.prototype;return l};g=(function(){var i,j;function k(){}i=null;j=null;return k})();b=(function(){var i,k;function j(){}i=null;k=null;return j})();h=(function(){var k,j,i,l,o,m;function n(){}i=null;k=null;o=null;m=null;l=[];j=[];return n})();d=(function(){function i(){}i.prototype.PackageName="delphi";i.prototype.version="";i.prototype.Elements=[];return i})();a=(function(){var j;i.PosData={};i.StringScheme="";i.sdk=null;j=null;function i(){}i.getInstance=function(){return j!=null?j:j=new ShaParser()};i.prototype.SubIs=function(k,m){var l;l=k.length;return m+l<=this.StringScheme.length&&this.StringScheme.substr(m,l)===k};i.prototype.SetPosIf=function(k,m){var n,l;l=k.length;n=m+l<=this.StringScheme.length&&this.StringScheme.substr(m,l)===k;if(n){if(this.PosData==null){this.PosData={}}if(this.PosData[k]){this.PosData["_"+k]=this.PosData[k]}this.PosData[k]=m+l}return n};i.prototype.getSub=function(k,n){var m,l;if(this.PosData[k]&&this.PosData[n]){m=this.PosData[k];l=this.PosData[n]-m-1;return this.StringScheme.substr(m,l)}};i.prototype.hasPos=function(k){return this.PosData[k]};i.prototype.getPos=function(k){return this.PosData[k]};i.prototype.deletePos=function(k){return delete this.PosData[k]};i.prototype.ToggleProp=function(k){var l;k="is"+k;l=this.PosData[k];if(l){delete this.PosData[k]}else{this.PosData.Add(k,1)}return !l};return i})();window.ShaParser=(function(i){e(j,i);function j(){f=j.__super__.constructor.apply(this,arguments);return f}j.prototype.parseExp=function(l){var m,k;m=l.split(",",2);if(m.length>1){k=l.substr(l.indexOf("[")).replace(/\(/gmi,"[").replace(/\)/gmi,"]").replace(/\]\[/gmi,"],[");m.push(JSON.parse(k))}return m};j.prototype.Parse=function(o){var s,n,m,y,r,w,x,k,l,u,z,p,q,A,v,t;this.StringScheme=o.replace(/\*.*[\r\n]/,"");this.sdk=new d();this.sortedElements=[];y=false;this.thisProp="";p=0;k=0;for(x=v=0,t=o.length;0<=t?v<=t:v>=t;x=0<=t?++v:--v){if(this.SubIs('"',x)){y=!y}if(y){continue}this.SetPosIf("Make",x);this.SetPosIf("Add",x);this.SetPosIf("ver",x);this.SetPosIf("BEGIN_SDK",x);if(this.SetPosIf("END_SDK",x)){this.deletePos("BEGIN_SDK")}if(this.SetPosIf("}",x)){k=p;p=0;this.deletePos("{");this.deletePos("Add")}this.SetPosIf("{",x);if(this.SetPosIf("\n",x)){if(this.hasPos("=")&&this.hasPos("{")&&this.getPos("=")<this.getPos("\n")&&this.thisProp!==""){q=[" ","\t","\r","\n"];A=this.getSub("=","\n").trim(q);w=new g();w.Name=this.thisProp;w.Value=A;n=this.sdk.Elements[p];if(n.Property==null){n.Property=[]}n.Property[w.Name]=w;this.thisProp=""}}if(this.SetPosIf("=",x)){if(this.hasPos("Add")&&this.hasPos("{")){q=[" ","\t","\r","\n"];l=this.getSub("\n","=").trim(q);this.thisProp=l}}this.SetPosIf("(",x);if(this.SetPosIf(")",x)){if(this.hasPos("Make")){this.sdk.PackageName=this.getSub("(",")");this.deletePos("Make")}if(this.hasPos("ver")){this.sdk.version=this.getSub("(",")");this.deletePos("ver")}if(this.hasPos("Add")&&!this.hasPos("{")&&this.getPos("Add")<this.getPos(")")){m=this.getSub("(",")").split(",");s=new h();s.Name=m[0];s.Id=m[1]*1;s.X=m[2]*1;s.Y=m[3]*1;s._={};if(this.hasPos("BEGIN_SDK")){if(this.sdk.Elements[k]._Root){console.log("paprser pre set root",s,s.Name,this.sdk.Elements[k]._Root);s._Root=this.sdk.Elements[k]._Root}else{console.log("paprser set root",s,s.Name,this.sdk.Elements[k]);s._Root=this.sdk.Elements[k]}}if(this.hasPos("BEGIN_SDK")&&this.last_element.Id===s._Root.Id){s._Root._Container=s}this.last_element=s;this.sdk.Elements[s.Id]=s;this.sortedElements.push(s);p=s.Id;this.deletePos(")")}}if(this.hasPos("{")&&this.hasPos("Add")&&this.hasPos("(")&&this.getPos("Add")<this.getPos("(")&&this.getPos("\n")>this.getPos(")")){z=this.getSub("_\n","\n").trim("\n ");r=new b();u=z.substr(z.indexOf("(")+1);u=u.substr(0,u.length-1);u=this.parseExp(u);r.Name=u[0],r.to=u[1],r.path=u[2];n=this.sdk.Elements[p];if(n.Methods==null){n.Methods=[]}n.Methods[u[0]]=r;this.deletePos("(");this.deletePos(")")}}return{sdk:this.sdk,sortedElements:this.sortedElements}};return j})(a)}).call(this);